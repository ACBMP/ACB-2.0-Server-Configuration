<?xml version="1.0" encoding="utf-8"?>
<GameMode Name="CHESTCAPTURE" EngineName="pacman" idGameMode="2" SessionType="0" MinPlayers="6" MaxPlayers="8" TopPlayers="8" IdMetaSession="-1" IsTeamMode="true" CanJoinInGame="true" CanJoinWithGroup="true" JoinMaxGroupSize="4" PrivateMinPlayers="2" TemplarGrade="Team" SearchExpirationTime="10.0f" MaxSessionToTry="5" normalBlacklistedSessionTime="40" SearchStrategy="1">
    <GBrick_Timer Start="StartRound" Cancel="NoMoreEnoughPlayers" Show="InGame,StartRound" Hide="GameStateEnded,StartInterround" OnFinished="TimerEnded" GameDuration="300" Play1mnVoice="false" Play30sVoice="true"/>
    <GBrick_Respawn Start="CanSpawnInWhiteRoom" OnFinished="SpawnedInWhiteRoom" RespawnTime="0" RandomSkin="false" SpawnInWhiteRoom="true"/>
    <GBrick_Respawn Start="AbilitySelectionRequestRespawn" OnFinished="RespawnRestart" RespawnTime="0" SpawnPointType="0" SpawnPointRule="10" RandomSkin="false" SpawnInWhiteRoom="false"/>
    <GBrick_Respawn Start="TeamLoopReady" RespawnTime="0" SpawnPointType="2" SpawnPointRule="7" RandomSkin="false" SpawnInWhiteRoom="false"/>
    <GBrick_Respawn Start="StartRound" RespawnTime="0" SpawnPointType="2" SpawnPointRule="7" RandomSkin="false" SpawnInWhiteRoom="false"/>
    <GBrick_AbilitySetSelection Start="LocalPlayerEndOfDeath" OnFinished="AbilitySelectionRequestRespawn" MinTime="5" MaxTime="15" GameEntrance="false"/>
    <GBrick_ScoreKill IsTeamScore="true" UseCote="false" MetaScore="0" AllowFirstBlood="false"/>
    <GBrick_ScoreChase IsTeamScore="true" MetaScore="0"/>
    <GBrick_ScoreCommon PickupScore="1000" LastPickupScore="1250" IsTeamScore="true" MetaScore="0"/>
    <GBrick_ScoreSession BonusKillsAverage="300" BonusPodium="200" BonusSurvivor="400" BonusUntouchable="1000" AllowedDelay="60"/>
    <GBrick_TargetFeedback Start="InGame" Stop="GameStateEnded" HideMainEmptyForTargetTeam="true" HideIfPickupCloserThan="18.0f" ShowIfPickupFurtherThan="20.0f" SecRadarRangeScale="0.66f" AltitudeDifference="3.75f" ArrowDistance="30.0f" HUDTextDistance="700.0f" UpDownDistance="30.0f" NoFXDistance="0.0f" WorldIsBlind="true" TimeToLessArrows="1.0f" TimeToMoreArrows="1.0f" ContinuousMovement="true" ArrowFadeInTime="0.3f" ArrowFadeOutTime="0.3f" ArrowOpacity="1.0f" ArrowSize="1.0f" BeeLeashLength="0.5f" ShowFX="false" ShowRadarFX="true" ShowArrow="false" ShowArrowOffscreen="false" HideFXifArrow="true" AssassinFeedbackHasPriority="false" UseLastKnownPos="false" DistanceToRecoverPosition="7.5f" DistanceToEnableLastKnownPos="12.0f" ShowDistanceToPlayerWhenFar="true" TargetAcquisitionCD="0.0f" ShowTargetPickupTime="3.0f" BackToNormalTime="3.0f" TargetAcquisitionCDEndST="0.3f" DecoyRunTime="12.0f" HasAutoRadar="true" DisplayDebug="false" AcquireTargetDistanceVeryLow="7.0f" AcquireTargetDistanceLow="7.0f" AcquireTargetDistanceNormal="7.0f" AcquireTargetDistanceHigh="7.0f" LeftRightByPosition="true"/>
    <GBrick_AssassinFeedback Start="InGame" Stop="GameStateEnded" ShowChaser="true" ShowFX="true" ShowArrow="true" ShowArrowOffscreen="false" HideFXifArrow="false" TargetFeedbackHasPriority="false" DisplayDebug="false" ShowThreateningArrow="true" ShowThreateningThroughWalls="false" ThreateningOutTime="3.0f"/>
    <GBrick_PoisonFeedback Start="InGame" Stop="GameStateEnded" DisplayDebug="false"/>
    <GBrick_TeammateAssassinFeedback Start="InGame" Stop="GameStateEnded" ShowArrow="true" ShowArrowOffscreen="false" DisplayDebug="false"/>
    <GBrick_TeammateFeedback Start="StartRoundFadeDone" Stop="GameStateEnded,StartInterround" DisplayDebug="false"/>
    <GBrick_TeammateLockFeedback Start="InGame" Stop="GameStateEnded" DisplayDebug="false"/>
    <GBrick_Round Start="GoToGamemodeIntro" Stop="GameStateEnded" Cancel="RestartMenuFlow" Restart="TimerEnded" NotifyHUD="InGame" NotifyScoreSent="MidScoresSent" OnFinished="GameOver" OnStarted="StartInterround" OnRestart="StartRound" RestartNeedsAbi="true" RestartNeedsGMStarted="true" nbRoundFromNbTeams="false" NumberOfRounds="2" CumulativeScores="true" ResetKillerLoop="true" ResetAbilityCD="true" ScoreRecapDuration="10" IntroDuration="10"/>
    <GBrick_Delay Start="StartInterround" OnFinished="TeamLoopReady" DelayDuration="1.f"/>
    <GBrick_ActivatePendingTeamLoop Start="StartRound"/>
    <GBrick_SelectBestTargetTeamWanted Start="KillEvent,PlayerRemoved,EndOfEscape,EnginePlayerInGame" Stop="GameStateEnded" Cancel="GameStateStarted,TimerEnded" TimeWithoutTarget="8.f" ChangeTargetOnNPCKill="true" ChangeAllTargetsOnNPCKill="true" SwitchToTeammate="false" SwitchMyTeammate="false"/>
    <GBrick_RequestRespawnWhileHumiliated Start="InGame" Stop="GameStateEnded" YButtonInterval="5.0f" TimeToBlinkFirst="1.0f" TimeToBlinkLast="1.0f" BlinkIntervalFirst="0.2f" BlinkIntervalLast="0.1f"/>
    <GBrick_EndGameScores Start="RankingSent" Stop="MenuRestart" OnFinished="ScoresSent" OnRestart="Restart" MaxTime="45"/>
    <GBrick_MidGameScores Start="StartInterround" OnFinished="MidScoresSent"/>
    <GBrick_MidGameScoresNotifier Start="SpawnedInWhiteRoom,Restart,RestartMenuFlow" Stop="GameStateEnded" OnRestart="SendScoreForMenu"/>
    <GBrick_MidGameScores Start="InGame,SendScoreForMenu"/>
    <GBrick_SendRanking Start="GameStateEndedDelayed" OnFinished="RankingSent"/>
    <GBrick_GetRanking Start="InGame"/>
    <GBrick_TargetInfo Start="InGame" Stop="GameStateEnded" ClassIconMasked="false" DisplayContractOnMe="true" DisplayRanking="true" EnableHiding="false"/>
    <GBrick_PlayerInfo Start="InGame" Stop="GameStateEnded" DisplayContractOnMe="true" DisplayRanking="true"/>
    <GBrick_PlayerListExtended Start="TeamSelectionStarted" Stop="GameStateEnded"/>
    <GBrick_TeamSelection Start="SpawnedInWhiteRoom,Restart,RestartMenuFlow" OnStarted="TeamSelectionStarted" LeaveNeedsMinPlayersChosen="true" LeaveNeedsAllPlayersChosen="true" OnFinished="TeamSelected" MaxPlayersPerTeam="4" MaxNumberOfTeams="2" AllowedWhenEnded="false" TimeOut="15"/>
    <GBrick_SkinSelection Start="TeamSelected" Cancel="RestartMenuFlow" OnStarted="SkinSelectionStarted" OnFinished="GoToGamemodeIntro" LeaveNeedsMinPlayersChosen="false" LeaveNeedsAllPlayersChosen="true" MaxPlayersWithSameSkin="4" MaxNumberOfSkins="2" AllowedWhenEnded="false" TimeOut="10"/>
    <GBrick_AbilitySetSelection Start="EndOfScenarization" Cancel="RestartMenuFlow" OnStarted="AbilitySelectionStarted" OnFinished="AbilitySelected" MinTime="1" MaxTime="12" GameEntrance="true"/>
    <GBrick_CheckNumberOfPlayers Start="PlayerRemoved" Stop="GameStateEndedDelayed" OnFinished="NoMoreEnoughPlayers" PlayerPerTeamThreshold="1" SendEventWhileInGame="true"/>
    <GBrick_CheckNumberOfPlayers Start="PlayerRemoved" Stop="GameStateStarted" OnFinished="LostTeamInMenus" PlayerPerTeamThreshold="1" SendEventWhileInMenu="true"/>
    <GBrick_FlushSelections Start="LostTeamInMenus,ENGINE_ClientRestartFlow" OnFinished="RestartMenuFlow"/>
    <GBrick_Delay Start="InGame" OnFinished="StartRoundFadeDone" DelayDuration="4.5f"/>
    <GBrick_AbilityManager Start="StartRoundFadeDone" Stop="GameStateEnded,KillEvent_LocalPlayerSuicided,KillEvent_OtherPlayerKilledLocalPlayer,StartInterround,LocalPlayerEndOfDeath" CoolDownTimer="30" SlotOne="8" SlotTwo="13" SlotThree="3"/>
    <GBrick_Delay Start="RespawnRestart" OnFinished="RespawnFadeDone" DelayDuration="1.f"/>
    <GBrick_AbilityManager Start="RespawnFadeDone" Stop="GameStateEnded,KillEvent_LocalPlayerSuicided,KillEvent_OtherPlayerKilledLocalPlayer,StartInterround,LocalPlayerEndOfDeath" CoolDownTimer="30" SlotOne="8" SlotTwo="13" SlotThree="3"/>
    <GBrick_Controls Start="InGame" Stop="GameStateEnded"/>
    <GBrick_MessageLog DebugDisplay="1" TimeBeforeFadeOut="3" TimeFadeOut="3"/>
    <GBrick_PlayerReady SetTeamSelection="TeamSelectionStarted" SetSkinSelection="SkinSelectionStarted" SetAbilitySelection="AbilitySelectionStarted" SetReady="AbilitySelected" OnReady="PlayerReady" SetInGame="PlayerCanGoInGame" OnInGame="InGame" SetEndGame="GameStateEnded" WaitingVoiceTime2="60"/>
    <GBrick_GameStarter Start="GameModeInitialized" OnFinished="ModeCanStart" NeedsMinPlayersReady="false" NeedsAllPlayersReady="true"/>
    <GBrick_LogicAndOnEvent Start="StartRound,PlayerReady" OnFinished="PlayerCanGoInGame" nbStartEvent="2"/>
    <GBrick_GameState SetStarted="ModeCanStart" SetEnded="GameOver,NoMoreEnoughPlayers" OnStarted="GameStateStarted" OnEnded="GameStateEnded"/>
    <GBrick_AttackFeedback Start="InGame" Stop="GameStateEnded" DisplayDebug="false"/>
    <GBrick_Escape Start="InGame" Stop="GameStateEnded" StartChaseAtFullThreat="true" StartChaseOnNPCKill="false" FailChaseOnNPCKill="true" NPCKillMattersDistance="1000.0f" AllowStartChaseWhenChased="true" StayBlueUntilUnblend="true" ScoreOnHumiliation="true" BreakContractOnHumiliation="true" BreakContractOnHumiliationByTeammate="true" tempStatusText="false" DisplayDebug="false"/>
    <GBrick_MapInfo Start="GameStateEnded" Stop="Restart" Title="YOU HAVE PLAYED"/>
    <GBrick_MapInfo Start="FirstSpawnInMap,Restart" Stop="InGame" Title="YOU WILL PLAY"/>
    <GBrick_LogicAndOnEvent Start="SessionReady,EndOfLoading" OnFinished="CanSpawnInWhiteRoom" nbStartEvent="2"/>
    <GBrick_HudFeedback Start="InGame" Stop="GameStateEnded"/>
    <GBrick_ExtendedHud Start="InGame" Stop="GameStateEnded"/>
    <GBrick_Delay Start="GameStateEnded" OnFinished="GameStateEndedDelayed" DelayDuration="2.f"/>
    <GBrick_VoiceChatRules FullVoiceChat="GameModeInitialized,GameStateEnded" TeamVoiceChat="SkinSelectionStarted,GameStateStarted,SelectTeamsFinished"/>
    <GBrick_InteractionManager Start="InGame" Stop="GameStateEnded" CanHumiliate_NeutralPlayer="false" CanHumiliate_FutureAssassin="true" HumiliationCooldown="10.0f"/>
    <GBrick_SelectTeams Start="ServerNewTeamChoosen,ServerTeamCanceled" OnFinished="SelectTeamsFinished"/>
    <GBrick_Delay Start="ScoresSent" OnFinished="ScoresSentDelayed" DelayDuration="2.f"/>
    <GBrick_DestroyTeams Start="ScoresSentDelayed"/>
    <GBrick_Matchmaking Start="GameModeInitialized" OnFinished="SessionReady" TimeBeforeMergingSession="20" BaseTimeBetweenSearch="10" PlayerDelayBetweenSearch="1" ResetTimerOnJoin="false" BaseTimeAddedOnJoin="2" AddPlayerDelayOnJoin="true" RandomMaxTime="5" WaitForSkinsToLoadMap="true" UseMatchMakingNatFilter="true" UseHUDCounterBehaviour="true"/>
    <GBrick_BloodBath Start="InGame" Stop="GameStateEnded"/>
    <GBrick_PickupFeedback Start="StartRoundFadeDone" Stop="GameStateEnded,StartInterround" nbPickupsTracked="3" TrackWhenHasTarget="false" SharedForceShow="true" ForceShowWhenHorCloserThan="18.0f" UnForceShowWhenHorFurtherserThan="20.0f" ArrowFarScale="0.5f" ArrowCloseScale="1.0f" ArrowFarDistance="60.0f" ArrowCloseDistance="15.0f"/>
    <GBrick_SetAttackingTeamLoop Start="StartInterround"/>
    <GBrick_PickupObjectManager Start="StartRound" NotifyWorldLoaded="ModeCanStart" Stop="StartInterround,GameStateEnded" NumberActivePickups="3" GatherDistance="8.0f" GatherAssistDistance="2.0f" TimeToGatherPickup="25.0f" TimeToGatherPickup2="22.5f" TimeToGatherPickup3="20.0f" TimeToGatherPickup4="15.0f" RespawnTimerWhenFlushed="5.0f" RespawnTimerWhenOne="3000.0f" PickupRespawnTime="0.01f" CanPickupWhenHasContract="false" CanPickupWhenAlreadyHasOne="true" nbPrevPos="6" SpawnPointType="3" SpawnPointRule="9"/>
    <GBrick_BlockPlayer Start="GameModeInitialized,GameStateEnded,LocalPlayerEndOfDeath,StartInterround" Stop="EngineExitWhiteRoom"/>
</GameMode>
